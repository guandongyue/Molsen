/*
 Navicat MySQL Data Transfer

 Source Server         : 127.0.0.1
 Source Server Type    : MySQL
 Source Server Version : 50720
 Source Host           : 127.0.0.1
 Source Database       : self_molsen

 Target Server Type    : MySQL
 Target Server Version : 50720
 File Encoding         : utf-8

 Date: 11/18/2017 17:06:08 PM
*/

SET NAMES utf8;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
--  Table structure for `t_articles`
-- ----------------------------
DROP TABLE IF EXISTS `t_articles`;
CREATE TABLE `t_articles` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `category` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '一级分类',
  `tplType` tinyint(3) unsigned DEFAULT '0',
  `lcategory` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '二级分类',
  `title` varchar(120) NOT NULL COMMENT '标题',
  `image` varchar(120) NOT NULL DEFAULT '' COMMENT '文章库封面',
  `images` varchar(300) DEFAULT NULL,
  `keywords` varchar(60) DEFAULT NULL COMMENT '关键字',
  `description` varchar(160) DEFAULT NULL COMMENT '描述',
  `note` mediumtext COMMENT '内容',
  `adminid` int(10) unsigned DEFAULT '0' COMMENT '管理员ID',
  `author` varchar(10) DEFAULT NULL COMMENT '作者',
  `tags` mediumtext COMMENT '标签',
  `source_url` varchar(120) NOT NULL DEFAULT '' COMMENT '来源网址',
  `status` tinyint(3) unsigned DEFAULT '0' COMMENT '1审核通过\n2未审核',
  `listorder` int(10) unsigned DEFAULT '0' COMMENT '排序',
  `intime` datetime DEFAULT NULL COMMENT '入库时间',
  `uptime` datetime DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`,`title`)
) ENGINE=MyISAM AUTO_INCREMENT=16 DEFAULT CHARSET=utf8 COMMENT='文章库';

-- ----------------------------
--  Records of `t_articles`
-- ----------------------------
BEGIN;
INSERT INTO `t_articles` VALUES ('1', '14', '0', '0', '正则表达式的修饰符详细解释', '', '', '', 'i(PCRE_CASELESS)  \r\n如果设置了这个修饰符,则表达式不区分大小写', '<strong>PatternModifiers- 规则表达式的修饰符</strong><br />  下面是当前规则表达式里可用的修饰.括号内的名字是那些修饰符的内部PCRE名字.&nbsp;<br />  <br />  <strong>i(PCRE_CASELESS)&nbsp;</strong><br />  如果设置了这个修饰符,则表达式不区分大小写.&nbsp;<br />  <br />  <strong>m(PCRE_MULTILINE)&nbsp;</strong><br />  默认的,PCRE认为目标字符串值是单行字符串(即使他确实包含多行).行开始标记(^)只匹配字符串的开始部分,而行结束标记($)只匹配字符串的尾部,或者一个结束行(除非指定E修饰符).这个和Perl里面一样.&nbsp;&nbsp; 如果设定了这个修饰符,行开始和行结束结构分别匹配在目标字符串任何新行的当前位置后面的或者以前的,和每一个开始和结束一样.这个等于Perl里面的/m修饰符.如果目标字符串没有&quot;n&quot;字符,或者模式里没有^或$,这个修饰符不起作用.&nbsp;<br />  <br />  <strong>s(PCRE_DOTALL)&nbsp;</strong><br />  如果设置这个修饰符,模式里的一个&quot;点&quot;将匹配所有字符,包括换行.没有他,换行将被排除在外.这个修饰符等同于Perl里面的/s修饰符.一个相反的类型，例如[^a&gt;将总是匹配换行字符，而不管这个修饰符的限制.&nbsp;<br />  <br />  <strong>x(PCRE_EXTENDED)&nbsp;</strong><br />  如果设置这个修饰符,模式里面的空格数句将会被全部忽略，除非用转义符或者一个字符的内部类型,还有所有字符类型外的未转义的#号之间的也被忽略.这个等同于Perl里面的/x&nbsp;&nbsp; 修饰符,这样可以复杂的模式里面加入注释.注意,只适用于数据字符.空格字符将不会在指定的模式字符指定顺序中出现。<br />  &nbsp;<br />  <strong>e&nbsp;</strong><br />  如果设置这个修饰符,preg_replace()将在替换值里进行正常的涉及到的替换,等同于在PHP代码里面一样,然后用于替换搜索到的字符串.&nbsp;&nbsp; 只在preg_replace()里使用这个修饰符;其它PCRE函数忽略他.&nbsp;<br />  <br />  <strong>A(PCRE_ANCHORED)&nbsp;</strong><br />  如果设置这个修饰符,模式被强制为锚（anchored）,也就是说,他将值匹配搜索字符串的开始.这个效果可以通过恰当的模式结构自身来实现,那是在Perl里面的唯一途径.&nbsp;<br />  <br />  <strong>D(PCRE_DOLLAR_ENDONLY)&nbsp;</strong><br />  如果设置这个修饰符,则模式里的$修饰符将仅匹配目标字符串里的尾部.没有这个修饰符,$字符也匹配新行的尾部(但是不再新行的前面).如果设置了m修饰符则忽略这个修饰符.在Perl里面没有类似的.&nbsp;<br />  <br />  <strong>S&nbsp;</strong><br />  如果一个模式将被使用多次,使用长些时间分析他来来提高匹配的速度.如果使用这个修饰符，则进行额外的分析.目前,研究模式仅用于非锚模式，没有一个固定的开始字符.&nbsp;<br />  <br />  <strong>U(PCRE_UNGREEDY)&nbsp;</strong><br />  这个修饰符翻转数量的&quot;greediness&quot;，使得默认不被greedy，但是如果你紧跟问号（?)，则可以greedy.这个和Perl不兼容.这个也可以通过在模式里面的(?U)修饰符得到.&nbsp;<br />  X(PCRE_EXTRA)&nbsp;<br />  这个修饰符打开额外的功能，这些和Perl不兼容.任何模式里面的后面带字符但没有特殊意义的反斜杠将引起错误,从而储备这些联合用于将来的扩充.默认的,在Perl里面,&nbsp;&nbsp; 反斜杠后面有无意义的字符被当成正常的literal.目前还没有其他的控制特征', '1', '', '', '', '1', '0', '2016-10-25 16:08:30', null), ('2', '5', '0', '0', 'Xcode8 Swift3 集成支付宝详细过程', '', 'http://img.guandongyue.com/2016/1025/20161025043154982_list.png,http://img.guandongyue.com/2016/1025/20161025043600861_list.png,http://img.guandongyue.com/2016/1025/20161025044353762_list.png', '', 'Swift 集成支付宝的完整过程，2016.10.26号更新。', '<span style=\"font-family:黑体;\"><span style=\"font-size:20px;\"><strong>一、客户端：Swift3</strong></span><br />\r\n<span style=\"background-color:#ffffe0;\">1. 在支付宝官网下载客户端SDK 《</span><a href=\"https://doc.open.alipay.com/\" target=\"_blank\"><span style=\"background-color:#ffffe0;\">支付宝文档中心</span></a><span style=\"background-color:#ffffe0;\">》；</span><br />\r\n<span style=\"background-color:#ffffe0;\">2. 在你的工程目录下新建目录AliSDK，解压支付宝SDK，将下列文件拖入AliSDK目录中，如图：</span><br />\r\n￼ &nbsp;<img alt=\"Xcode8 Swift3 集成支付宝详细过程\" src=\"http://img.guandongyue.com/2016/1025/20161025043154982.png\" style=\"width:20%;\" /><br />\r\n<span style=\"background-color:#ffffe0;\">3. 然后将AliSDK目录拖入Xcode工程中。</span><br />\r\n<span style=\"background-color:#ffffe0;\">4. 在 Build Phases 里添加以下库文件，如图：</span><br />\r\n<img alt=\"Xcode8 Swift3 集成支付宝详细过程\" src=\"http://img.guandongyue.com/2016/1025/20161025043600861.png\" style=\"width:60%;\" /><br />\r\n<span style=\"background-color:#ffffe0;\">5. 在 Build Settings 里给 Header Search Paths 添加路径配置（可以参考Framework Search Paths），如图：</span><br />\r\n<img alt=\"Xcode8 Swift3 集成支付宝详细过程\" src=\"http://img.guandongyue.com/2016/1025/20161025044353762.png\" style=\"width:60%;\" /><br />\r\n<span style=\"background-color:#ffffe0;\">6. 在info 中设置你的 URL Schemes，如图：</span><br />\r\n<img alt=\"Xcode8 Swift3 集成支付宝详细过程\" src=\"http://img.guandongyue.com/2016/1025/20161025050146203.png\" style=\"width:60%;\" /><br />\r\n<span style=\"background-color:#ffffe0;\">7. 在 swift 工程中建立 Object 的桥接文件：&nbsp;ChaoAi-Bridging-Header.h</span></span><br />\r\n<blockquote>\r\n	<ol class=\"dp-j\">\r\n	<li class=\"alt\"><span><span>#</span><span class=\"keyword\">import</span><span>&nbsp;<uikit uikit.h=\"\">&nbsp;</uikit></span></span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>#<span class=\"keyword\">import</span><span>&nbsp;</span><span class=\"string\">&quot;Order.h&quot;</span><span>&nbsp;</span></span></li>\r\n	<li><span>#<span class=\"keyword\">import</span><span>&nbsp;</span><span class=\"string\">&quot;DataSigner.h&quot;</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>#<span class=\"keyword\">import</span><span>&nbsp;<alipaysdk alipaysdk.h=\"\">&nbsp;</alipaysdk></span></span></li>\r\n	</ol>\r\n</blockquote>\r\n<span style=\"font-family:黑体;\">8. sign 加密过程放在了服务端，见《</span><a href=\"http://www.guandongyue.com/content/4.html\"><span style=\"font-family:黑体;\">php 集成支付宝签名过程</span></a><span style=\"font-family:黑体;\">》</span><br />\r\n<br />\r\n', '1', '', '', '', '1', '0', '2017-01-04 11:05:50', '2017-02-03 11:43:54'), ('3', '5', '0', '0', 'Xcode8 关闭自身的LOG日志', '', 'http://img.guandongyue.com/2016/1026/20161026040003288_list.png,http://img.guandongyue.com/2016/1026/20161026040229963_list.png', '', 'XCode升级到8之后，默认开启了LOG日志，导致在程序运行期间出现大量LOG日志，自己需要看的日志就很难明显的看到了，所以需要关闭它。', 'XCode升级到8之后，默认开启了LOG日志，导致在程序运行期间出现大量LOG日志，自己需要看的日志就很难明显的看到了，所以需要关闭它。<br />\r\n<br />\r\n<span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;\"><span style=\"background-color:#ffffe0;\">点击项目Product - Scheme - Edit Scheme 快捷键 command + &lt;（command + shift + ,）</span></span><br />\r\n<img src=\"http://img.guandongyue.com/2016/1026/20161026040003288.png\" style=\"width:40%\" /><br />\r\n<br />\r\n<span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;\"><span style=\"background-color:#ffffe0;\">找到&nbsp;</span></span><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;\"><span style=\"background-color:#ffffe0;\">Run - Arguments - Environment Variables&nbsp;</span></span><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;\"><span style=\"background-color:#ffffe0;\">添加：Name：OS_ACTIVITY_MODE &nbsp;Value：disable&nbsp;</span></span><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;\"><span style=\"background-color:#ffffe0;\">如图：</span></span><br />\r\n<img src=\"http://img.guandongyue.com/2016/1026/20161026040229963.png\" style=\"width:60%\" /><br />\r\n', '1', '', '', '', '1', '0', '2017-01-04 11:05:57', '2017-01-04 11:05:57'), ('4', '2', '0', '0', 'php 集成支付宝签名过程', '', '', '', '签名交给服务端做，客户端直接使用服务端提供的签名后的字符串进行调用支付', '此功能是用于客户端集成支付宝支付时做签名使用的。<br />\r\n私钥放在客户端始终不是个安全的事，所以签名过程要放在服务端。<br />\r\n<br />\r\n一、公钥私钥生成过程：详见《支付宝说明》，这里简要说明：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span>OpenSSL&gt;&nbsp;genrsa&nbsp;-out&nbsp;app_private_key.pem&nbsp;&nbsp;&nbsp;1024&nbsp;&nbsp;#生成私钥&nbsp;</span></span></li>\r\n	<li><span>OpenSSL&gt;&nbsp;pkcs8&nbsp;-topk8&nbsp;-inform&nbsp;PEM&nbsp;-<span class=\"keyword\">in</span><span>&nbsp;app_private_key.pem&nbsp;-outform&nbsp;PEM&nbsp;-nocrypt&nbsp;-out&nbsp;app_private_key_pkcs8.pem&nbsp;#Java开发者需要将私钥转换成PKCS8格式&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>OpenSSL&gt;&nbsp;rsa&nbsp;-<span class=\"keyword\">in</span><span>&nbsp;app_private_key.pem&nbsp;-pubout&nbsp;-out&nbsp;app_public_key.pem&nbsp;#生成公钥&nbsp;</span></span></li>\r\n	<li><span>OpenSSL&gt;&nbsp;exit&nbsp;#退出OpenSSL程序&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\napp_private_key_pkcs8.pem 只有JAVA用的到，PHP是不需要的。<br />\r\n<br />\r\n二、服务端签名过程 php代码：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span>#&nbsp;要签名的参数&nbsp;</span></span></li>\r\n	<li><span><span class=\"vars\">$biz_content</span><span>&nbsp;=&nbsp;</span><span class=\"keyword\">array</span><span>(&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;timeout_express&quot;</span><span>=&gt;</span><span class=\"string\">&quot;30m&quot;</span><span>,&nbsp;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;seller_id&quot;</span><span>=&gt;</span><span class=\"string\">&quot;&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;product_code&quot;</span><span>=&gt;</span><span class=\"string\">&quot;QUICK_MSECURITY_PAY&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;total_amount&quot;</span><span>=&gt;</span><span class=\"string\">&quot;0.01&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;subject&quot;</span><span>=&gt;</span><span class=\"string\">&quot;1&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;body&quot;</span><span>=&gt;</span><span class=\"string\">&quot;我是测试数据&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;out_trade_no&quot;</span><span>=&gt;</span><span class=\"string\">&quot;DTP7EO605IHSN77&quot;</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;);&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"vars\">$biz_content_string</span><span>&nbsp;=&nbsp;json_encode(</span><span class=\"vars\">$biz_content</span><span>);&nbsp;&nbsp;</span></span></li>\r\n	<li><span><span class=\"vars\">$parameters</span><span>&nbsp;=&nbsp;</span><span class=\"keyword\">array</span><span>(&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;app_id=201--------------&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;biz_content={$biz_content_string}&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;charset=utf-8&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;method=alipay.trade.app.pay&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;sign_type=RSA&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;timestamp=2016-10-26&nbsp;16:06:14&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&quot;version=1.0&quot;</span><span>&nbsp;</span></span></li>\r\n	<li><span>);&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;</span></li>\r\n	<li><span><span class=\"vars\">$key</span><span>&nbsp;=&nbsp;</span><span class=\"func\">file_get_contents</span><span>(</span><span class=\"string\">&quot;./keys/rsa_private_key.pem&quot;</span><span>);&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;</span></li>\r\n	<li><span><span class=\"vars\">$prestr</span><span>&nbsp;=&nbsp;implode(</span><span class=\"string\">&quot;&amp;&quot;</span><span>,&nbsp;</span><span class=\"vars\">$parameters</span><span>);&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"func\">echo</span><span>&nbsp;</span><span class=\"vars\">$prestr</span><span>;&nbsp;</span></span></li>\r\n	<li><span><span class=\"func\">echo</span><span>&nbsp;</span><span class=\"string\">&quot;\\n\\n&quot;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;</span></li>\r\n	<li><span><span class=\"vars\">$sign</span><span>&nbsp;=&nbsp;rsaSign(</span><span class=\"vars\">$prestr</span><span>,&nbsp;</span><span class=\"vars\">$key</span><span>);&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"vars\">$sign</span><span>&nbsp;=&nbsp;urlencode(</span><span class=\"vars\">$sign</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>#&nbsp;完整&nbsp;orderString&nbsp;</span></li>\r\n	<li><span><span class=\"vars\">$orderString[&#39;alipay&#39;]</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&quot;{$prestr}&amp;sign={$sign}&quot;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"func\">echo</span>&nbsp;<font color=\"#dd0000\">json_encode($orderString)</font>;&nbsp;</span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">/**</span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">&nbsp;*&nbsp;RSA签名</span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">&nbsp;*&nbsp;@param&nbsp;$data&nbsp;待签名数据</span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">&nbsp;*&nbsp;@param&nbsp;$private_key&nbsp;商户私钥字符串</span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">&nbsp;*&nbsp;return&nbsp;签名结果</span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">&nbsp;*/</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"keyword\">function</span><span>&nbsp;rsaSign(</span><span class=\"vars\">$data</span><span>,&nbsp;</span><span class=\"vars\">$private_key</span><span>)&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//以下为了初始化私钥，保证在您填写私钥时不管是带格式还是不带格式都可以通过验证。</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$private_key</span><span>=</span><span class=\"func\">str_replace</span><span>(</span><span class=\"string\">&quot;-----BEGIN&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----&quot;</span><span>,</span><span class=\"string\">&quot;&quot;</span><span>,</span><span class=\"vars\">$private_key</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$private_key</span><span>=</span><span class=\"func\">str_replace</span><span>(</span><span class=\"string\">&quot;-----END&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----&quot;</span><span>,</span><span class=\"string\">&quot;&quot;</span><span>,</span><span class=\"vars\">$private_key</span><span>);&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$private_key</span><span>=</span><span class=\"func\">str_replace</span><span>(</span><span class=\"string\">&quot;\\n&quot;</span><span>,</span><span class=\"string\">&quot;&quot;</span><span>,</span><span class=\"vars\">$private_key</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$private_key</span><span>=</span><span class=\"string\">&quot;-----BEGIN&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----&quot;</span><span>.PHP_EOL&nbsp;.wordwrap(</span><span class=\"vars\">$private_key</span><span>,&nbsp;64,&nbsp;</span><span class=\"string\">&quot;\\n&quot;</span><span>,&nbsp;true).&nbsp;PHP_EOL.</span><span class=\"string\">&quot;-----END&nbsp;RSA&nbsp;PRIVATE&nbsp;KEY-----&quot;</span><span>;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$res</span><span>=openssl_get_privatekey(</span><span class=\"vars\">$private_key</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>(</span><span class=\"vars\">$res</span><span>)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;openssl_sign(<span class=\"vars\">$data</span><span>,&nbsp;</span><span class=\"vars\">$sign</span><span>,</span><span class=\"vars\">$res</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">else</span><span>&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"func\">echo</span><span>&nbsp;</span><span class=\"string\">&quot;您的私钥格式不正确!&quot;</span><span>.</span><span class=\"string\">&quot;<br />\r\n	&quot;</span><span>.</span><span class=\"string\">&quot;The&nbsp;format&nbsp;of&nbsp;your&nbsp;private_key&nbsp;is&nbsp;incorrect!&quot;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"func\">exit</span><span>();&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;openssl_free_key(<span class=\"vars\">$res</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//base64编码</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$sign</span><span>&nbsp;=&nbsp;</span><span class=\"func\">base64_encode</span><span>(</span><span class=\"vars\">$sign</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;</span><span class=\"vars\">$sign</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n这里说一下 rsaSign 函数，请去 阿里巴巴 蚂蚁金服 开放平台 文档中心下载。<br />\r\n当前提供的SDK下载有1.0、2.0两个版本<br />\r\nWS_MOBILE_PAY_SDK_BASE_1.0.zip （包含服务端sdk）<br />\r\nWS_APP_PAY_SDK_BASE_2.0.zip （不包含服务端sdk）<br />\r\n所以其实两个都要下载的，1.0的包在&nbsp;老版本移动支付文档 中下载。<br />\r\n<br />\r\n这里我就不提供链接了，已经建议技术客服在2.0里也提供服务端sdk，可以免去麻烦。<br />\r\n<br />\r\n三、客户端使用方式 Swift 部分代码：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"keyword\">if</span><span>&nbsp;status==1&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>&nbsp;let&nbsp;tmp&nbsp;=&nbsp;data&nbsp;as?&nbsp;[String:&nbsp;Any]&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;orderString&nbsp;=&nbsp;tmp[<span class=\"string\">&quot;alipay&quot;</span><span>]&nbsp;as?&nbsp;String&nbsp;??&nbsp;</span><span class=\"string\">&quot;&quot;</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;appScheme&nbsp;=&nbsp;<span class=\"string\">&quot;alipaydemo&quot;</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AlipaySDK.defaultService().payOrder(orderString,&nbsp;fromScheme:&nbsp;appScheme,&nbsp;callback:&nbsp;{&nbsp;(resultDic)&nbsp;-&gt;&nbsp;Void&nbsp;<span class=\"keyword\">in</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;memo&nbsp;=&nbsp;resultDic?[<span class=\"string\">&quot;memo&quot;</span><span>]&nbsp;as!&nbsp;String&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;result&nbsp;=&nbsp;resultDic?[<span class=\"string\">&quot;result&quot;</span><span>]&nbsp;as!&nbsp;String&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;resultStatus&nbsp;=&nbsp;resultDic?[<span class=\"string\">&quot;resultStatus&quot;</span><span>]&nbsp;as!&nbsp;String&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class=\"string\">&quot;memo&nbsp;=&nbsp;\\(memo),&nbsp;result&nbsp;=&nbsp;\\(result),&nbsp;resultStatus:\\(resultStatus)&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n如此整个过程就通了，成功跳转到了支付宝支付。<br />\r\n客户端提交订单 - 服务端生成订单号和订单信息并签名 - 返回给客户端 - 客户端直接调用alipaysdk即可。<br />\r\n<p><br />\r\n&nbsp;</p>\r\n', '1', '', '', '', '1', '0', '2017-01-04 11:06:05', '2017-02-03 11:42:22'), ('5', '5', '0', '0', '画水滴形状 & 描边动画', '', 'http://img.guandongyue.com/2017/0104/20170104103005789_list.png', '', '本意想做个按钮的，但画的确实不好看，还是等设计湿的吧', '环境：Xcode8、Swift3<br />\r\n画出来的效果是这样的<br />\r\n<img src=\"http://img.guandongyue.com/2017/0104/20170104103005789.png\" /><br />\r\n代码：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"keyword\">class</span><span>&nbsp;WaterDripView:&nbsp;UIView&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;init(frame:&nbsp;CGRect)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">super</span><span>.init(frame:&nbsp;frame)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor&nbsp;=&nbsp;UIColor.white&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;required&nbsp;init?(coder&nbsp;aDecoder:&nbsp;NSCoder)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fatalError(<span class=\"string\">&quot;init(coder:)&nbsp;has&nbsp;not&nbsp;been&nbsp;implemented&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;draw(_&nbsp;rect:&nbsp;CGRect)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;bounds&nbsp;=&nbsp;self.bounds&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;二段曲线</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mainPath&nbsp;=&nbsp;UIBezierPath()&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainPath.move(to:&nbsp;CGPoint(x:bounds.width/2,&nbsp;y:10))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainPath.addCurve(&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:&nbsp;CGPoint(x:&nbsp;bounds.width/2-30,&nbsp;y:&nbsp;bounds.height-20),&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint1:&nbsp;CGPoint(x:&nbsp;bounds.width/2+20,&nbsp;y:&nbsp;bounds.height/2-10),&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint2:&nbsp;CGPoint(x:&nbsp;bounds.width/2-60,&nbsp;y:&nbsp;bounds.height-50))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;二段曲线</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;m1Path&nbsp;=&nbsp;UIBezierPath()&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m1Path.move(to:&nbsp;CGPoint(x:&nbsp;bounds.width/2-30,&nbsp;y:&nbsp;bounds.height-20))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainPath.addCurve(&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:&nbsp;CGPoint(x:bounds.width/2,&nbsp;y:10),&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint1:&nbsp;CGPoint(x:&nbsp;bounds.width/2+30,&nbsp;y:&nbsp;bounds.height+25),&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint2:&nbsp;CGPoint(x:&nbsp;bounds.width/2+80,&nbsp;y:&nbsp;bounds.height-50))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;拼接</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainPath.append(m1Path)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;边缘上色</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIColor.blue.setStroke()</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainPath.stroke()</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;填充颜色</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIColor(red:&nbsp;193/255,&nbsp;green:&nbsp;255/255,&nbsp;blue:&nbsp;255/255,&nbsp;alpha:&nbsp;1).setFill()&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainPath.fill()&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mainPath1&nbsp;=&nbsp;UIBezierPath(arcCenter:&nbsp;CGPoint(x:&nbsp;70,&nbsp;y:&nbsp;110),&nbsp;radius:&nbsp;10,&nbsp;startAngle:&nbsp;CGFloat(M_PI)&nbsp;*&nbsp;0,&nbsp;endAngle:&nbsp;CGFloat(M_PI)&nbsp;*&nbsp;2,&nbsp;clockwise:&nbsp;<span class=\"keyword\">true</span><span>)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIColor.white.setFill()&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainPath1.fill()&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;shapeLayer&nbsp;=&nbsp;CAShapeLayer()&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shapeLayer.path&nbsp;=&nbsp;mainPath.cgPath&nbsp;<span class=\"comment\">//存入UIBezierPath的路径</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shapeLayer.fillColor&nbsp;=&nbsp;UIColor.clear.cgColor&nbsp;<span class=\"comment\">//设置填充色</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shapeLayer.lineWidth&nbsp;=&nbsp;2&nbsp;&nbsp;<span class=\"comment\">//设置路径线的宽度</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shapeLayer.strokeColor&nbsp;=&nbsp;UIColor.black.cgColor&nbsp;<span class=\"comment\">//路径颜色</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//如果想变为虚线设置这个属性，[实线宽度，虚线宽度]，若两宽度相等可以简写为[宽度]</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shapeLayer.lineDashPattern&nbsp;=&nbsp;[1]</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//一般可以填&quot;path&quot;&nbsp;&nbsp;&quot;strokeStart&quot;&nbsp;&quot;strokeEnd&quot;&nbsp;&nbsp;具体还需研究</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;baseAnimation&nbsp;=&nbsp;CABasicAnimation(keyPath:&nbsp;<span class=\"string\">&quot;strokeEnd&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baseAnimation.duration&nbsp;=&nbsp;3&nbsp;&nbsp;&nbsp;<span class=\"comment\">//持续时间</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baseAnimation.fromValue&nbsp;=&nbsp;0&nbsp;&nbsp;<span class=\"comment\">//开始值</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baseAnimation.toValue&nbsp;=&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//结束值</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baseAnimation.repeatDuration&nbsp;=&nbsp;100&nbsp;&nbsp;<span class=\"comment\">//重复次数</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shapeLayer.add(baseAnimation,&nbsp;forKey:&nbsp;nil)&nbsp;<span class=\"comment\">//给ShapeLayer添</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//显示在界面上</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layer.addSublayer(shapeLayer)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n调用：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span>let&nbsp;waterDrip&nbsp;=&nbsp;WaterDripView(frame:&nbsp;CGRect(x:&nbsp;20,&nbsp;y:&nbsp;20,&nbsp;width:&nbsp;160,&nbsp;height:&nbsp;160))&nbsp;</span></span></li>\r\n	<li><span>waterDrip.layer.borderWidth&nbsp;=&nbsp;1&nbsp;</span></li>\r\n	<li class=\"alt\"><span>waterDrip.layer.borderColor&nbsp;=&nbsp;UIColor.lightGray.cgColor&nbsp;</span></li>\r\n	<li><span>bg.addSubview(waterDrip)&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<br />\r\n<br />\r\n<br />\r\n', '1', '', '', '', '1', '0', '2017-01-04 11:06:12', '2017-02-03 11:43:28'), ('6', '5', '0', '0', '画信封边缘样式', '', 'http://img.guandongyue.com/2017/0105/20170105093018155_list.png', 'swift,信封,信封边缘,边缘线', '信封的样式、地址栏的上下边都可以用这个，挺好看的', '效果：<br />\r\n<img src=\"http://img.guandongyue.com/2017/0105/20170105093018155.png\" /><br />\r\n<br />\r\n代码：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"keyword\">class</span><span>&nbsp;LetterSideLineView:&nbsp;UIView&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;draw(_&nbsp;rect:&nbsp;CGRect)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;blankWidth:&nbsp;CGFloat&nbsp;=&nbsp;30&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;height:&nbsp;CGFloat&nbsp;=&nbsp;frame.height&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;Rectangle&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;One:&nbsp;CGFloat&nbsp;=&nbsp;10&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;Two:&nbsp;CGFloat&nbsp;=&nbsp;5&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;Three:&nbsp;CGFloat&nbsp;=&nbsp;25&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;Four:&nbsp;CGFloat&nbsp;=&nbsp;30&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init(x:&nbsp;CGFloat,&nbsp;y:&nbsp;CGFloat)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;One&nbsp;=&nbsp;One&nbsp;+&nbsp;x&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Two&nbsp;=&nbsp;Two&nbsp;+&nbsp;x&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Three&nbsp;=&nbsp;Three&nbsp;+&nbsp;x&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Four&nbsp;=&nbsp;Four&nbsp;+&nbsp;x&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;x&nbsp;=&nbsp;ceil(frame.width&nbsp;/&nbsp;60)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">for</span><span>&nbsp;i&nbsp;</span><span class=\"keyword\">in</span><span>&nbsp;0...Int(x)&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;begin&nbsp;=&nbsp;Rectangle(x:&nbsp;CGFloat(i)&nbsp;*&nbsp;60,&nbsp;y:&nbsp;0)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;con&nbsp;=&nbsp;UIGraphicsGetCurrentContext()!&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.move(to:&nbsp;CGPoint(x:&nbsp;begin.One,&nbsp;y:&nbsp;0))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.addLine(to:&nbsp;CGPoint(x:&nbsp;begin.Two,&nbsp;y:&nbsp;height))&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.addLine(to:&nbsp;CGPoint(x:&nbsp;begin.Three,&nbsp;y:&nbsp;height))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.addLine(to:&nbsp;CGPoint(x:&nbsp;begin.Four,&nbsp;y:&nbsp;0))&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.setFillColor(UIColor.red.cgColor)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.fillPath()&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.move(to:&nbsp;CGPoint(x:&nbsp;begin.One+blankWidth,&nbsp;y:&nbsp;0))&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.addLine(to:&nbsp;CGPoint(x:&nbsp;begin.Two+blankWidth,&nbsp;y:&nbsp;height))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.addLine(to:&nbsp;CGPoint(x:&nbsp;begin.Three+blankWidth,&nbsp;y:&nbsp;height))&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.addLine(to:&nbsp;CGPoint(x:&nbsp;begin.Four+blankWidth,&nbsp;y:&nbsp;0))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.setFillColor(UIColor.blue.cgColor)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;con.fillPath()&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n使用：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;增加信封上边缘线</span><span>&nbsp;</span></span></li>\r\n	<li><span>let&nbsp;aa&nbsp;=&nbsp;LetterSideLineView(frame:&nbsp;CGRect(x:&nbsp;-20,&nbsp;y:&nbsp;0,&nbsp;width:&nbsp;520,&nbsp;height:&nbsp;5))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>aa.backgroundColor&nbsp;=&nbsp;UIColor.white&nbsp;</span></li>\r\n	<li><span>bg.addSubview(aa)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;增加信封下边缘线</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>let&nbsp;bb&nbsp;=&nbsp;LetterSideLineView(frame:&nbsp;CGRect(x:&nbsp;-20,&nbsp;y:&nbsp;bg.bounds.height-5,&nbsp;width:&nbsp;520,&nbsp;height:&nbsp;5))&nbsp;</span></li>\r\n	<li><span>bb.backgroundColor&nbsp;=&nbsp;UIColor.white&nbsp;</span></li>\r\n	<li class=\"alt\"><span>bg.addSubview(bb)&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<br />\r\n<br />\r\n<br />\r\n<br />\r\n<br />\r\n', '1', '', '', '', '1', '0', '2017-01-05 09:32:16', '2017-02-03 11:43:35'), ('7', '15', '0', '0', '开发者要注意的各个平台收费', '', '', '支付宝费用,微信支付费用,微信小程序费用,苹果应用费用,苹果开发者费用,appstore费用', '', '支付宝支付：免费<br />\r\n微信支付：收费 300元/年 的开放平台认证审核费用<br />\r\n<br />\r\n微信小程序：收费 300元/年 的公众平台认证审核费用（注：开放平台和公众平台是分开的，需要分别认证。）<br />\r\n苹果App Store：收费 99美元/年 折合人民币接近700元/年（<strong><span style=\"color:#ff0000;\">注：如果使用VISA卡在国内支付，一定要申请VISA+银联的双标卡，单标VISA卡只能在国外使用</span></strong>）<br />\r\n<br />\r\n<br />\r\n支付宝支付，0门槛，不收费，鼓励你尝试使用。<br />\r\n微信支付不知道咋想的，反正用户群大，就是欺负你了，怎么滴？300元每年，交吧。<br />\r\n<br />\r\n至于小程序和AppStore，与Android应用商店相比，一方面提高了应用质量，另一方面也打压了想要尝试的人们，各有取舍吧。', '1', '', '', '', '1', '0', '2017-01-09 19:05:49', '2017-02-06 14:55:25'), ('8', '16', '0', '0', 'MacBook Pro电源线修复过程', '', 'http://img.guandongyue.com/2017/0117/20170117030903518_list.jpeg,http://img.guandongyue.com/2017/0117/20170117031110648_list.jpeg,http://img.guandongyue.com/2017/0117/20170117031629510_list.jpeg', 'MacBook,Pro,电源线,电源线断了,电源线修复,拆电源,修复电源,电源线重生', '跟了我5年的MacBook Pro本身没什么问题，可惜电源线挂了~', '陪伴我近5年的MacBook Pro从未在任何方面掉过链子。<br />\r\n然而就在第五个年头到来的时候，电源线也寿终正寝了，彻底断了。<br />\r\n<br />\r\n看了一下原装正品，500+米，咳咳，挺贵的。<br />\r\n又看了看其他厂出的，怕不靠谱，烧坏了MacBook那就得不偿失了，最后还是自己修吧。<br />\r\n<br />\r\n下图是电源线坏了的样子，重点在于在接头处断了，如果是在中间断了反而很好处理，只需要把线剪断重接就好。<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117030903518.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n准备工具：剪刀、尖嘴钳、美工刀、电烙铁<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117031110648.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n<br />\r\n由于在接口处断掉，无法接线，所以必须拆盒。<br />\r\n方案1：淘宝买根原装线，把电路板上的线焊掉，整根换新的。<br />\r\n方案2：用盒里的一部分线重新连接，并改变原有的线方向。<br />\r\n<br />\r\n选用了方案2，因为原装线安完之后，由于线是朝上的，自身重力会把线再压下来，尤其是喜欢绕线的人，线更容易断。不如重接后改变线的出口方向，不得不说苹果的这个设计，确实失策了。其实重要的是，方案2不用钱，哈哈哈哈~&middot;<br />\r\n<br />\r\n盒里有胶粘着，徒手是掰不开的，上钳子，如图：<br />\r\n钳子放在这个位置用力张开，力不够的妹子找个爷们吧<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117031629510.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n打开之后的样子，如图：<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117031834813.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n用美工刀先把接口的橡胶切开：<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117031953804.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n切开橡胶之后，接口其实还有一块注塑的，这里就必须用电烙铁熔开了，刀是切不动的，不要伤了手。<br />\r\n处理掉橡胶+注塑的接口后是这样的：<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117032028178.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n后面就简单了，断线重连，白线我也剪断了重连，保持和黑线一样的长度：<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117032235348.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n完成的样子：虽然不好看吧，但至少不会因为重力或绕线导致接口易断。<br />\r\n<span style=\"color:#ff0000;\">这里建议往接口往图中的右侧出，我缠的这个方向缠完了才发现下面有电源插口挡着 =。= 失策~</span><br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117032455922.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n<br />\r\n通电，正常，yes~<br />\r\n<img src=\"http://img.guandongyue.com/2017/0117/20170117032604766.jpeg\" style=\"width:30%;height:30%;\" /><br />\r\n', '1', '', '', '', '1', '0', '2017-01-17 15:26:24', '2017-01-17 17:17:20'), ('9', '5', '0', '0', 'arc4random_uniform 函数详细说明与封装', '', '', 'arc4random_uniform,函数说明,函数使用,使用说明,计算方法', 'arc4random_uniform 函数计算方式说明', '<style type=\"text/css\">\r\np.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Menlo; color: #3e1e81}\r\nspan.s1 {font-variant-ligatures: no-common-ligatures}</style>\r\n<p class=\"p1\"><span class=\"s1\">在swift中，随机数需要使用 arc4random_uniform 函数，但这个函数与其他语言的随机数函数不太一样。<br />\r\n只能说是使用起来不太习惯。<br />\r\n<br />\r\n比如，我要生成 5 ~ 100 之间的数字（包含首尾）<br />\r\n那么就需要写成<br />\r\narc4random_uniform(96) + 5<br />\r\n解释：<br />\r\n这里的 arc4random_uniform(96)，是生成了 0 ~ 95 的数字，然后再加上5的偏移量得到的结果。<br />\r\n刚用的时候确实不太习惯这种方式，感觉来的不够直接，比如对使用方式进行一下封装：</span><br />\r\n&nbsp;</p>\r\n<blockquote>\r\n	<ol class=\"dp-py\">\r\n	<li class=\"alt\"><span><span>func&nbsp;random(begin&nbsp;x:&nbsp;UInt32,&nbsp;end&nbsp;y:&nbsp;UInt32)&nbsp;-&gt;&nbsp;UInt32&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;arc4random_uniform(y&nbsp;-&nbsp;x&nbsp;+&nbsp;</span><span class=\"number\">1</span><span>)&nbsp;+&nbsp;x&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p class=\"p1\"><span class=\"s1\">如此，在使用的时候直接写：<br />\r\nrandom(5, 100)<br />\r\n这样就可以得到 5 ~ 100 之间的随机数了，更容易让人理解与使用。<br />\r\n<br />\r\n简单的改动，让使用更加容易。</span></p>\r\n', '1', '', '', '', '1', '0', '2017-01-24 18:40:06', '2017-02-03 11:41:46'), ('10', '5', '0', '0', '雪花飘落的效果实现❄️', '', 'http://img.guandongyue.com/2017/0207/20170207031915948_list.gif', '雪花,雪景,雪花飘落,下雪,雪花动画,雪动画', '雪花飘落的效果', '效果：<br />\r\n<img src=\"http://img.guandongyue.com/2017/0207/20170207031915948.gif\" /><br />\r\n<br />\r\n代码：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"keyword\">class</span><span>&nbsp;AnimationSnow:&nbsp;UIView&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;init(frame:&nbsp;CGRect)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">super</span><span>.init(frame:&nbsp;frame)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor&nbsp;=&nbsp;UIColor.clear&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;required&nbsp;init?(coder&nbsp;aDecoder:&nbsp;NSCoder)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fatalError(<span class=\"string\">&quot;init(coder:)&nbsp;has&nbsp;not&nbsp;been&nbsp;implemented&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;draw(_&nbsp;rect:&nbsp;CGRect)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">for</span><span>&nbsp;i&nbsp;</span><span class=\"keyword\">in</span><span>&nbsp;1...50&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createSnow()&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;func&nbsp;createSnow()&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s&nbsp;=&nbsp;UILabel(frame:&nbsp;CGRect(x:&nbsp;0,&nbsp;y:&nbsp;0,&nbsp;width:&nbsp;0,&nbsp;height:&nbsp;0))&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.text&nbsp;=&nbsp;<span class=\"string\">&quot;❄️&quot;</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.font&nbsp;=&nbsp;UIFont(name:&nbsp;<span class=\"string\">&quot;PingFangSC-Thin&quot;</span><span>,&nbsp;size:&nbsp;12)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.sizeToFit()&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addSubview(s)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;time:&nbsp;TimeInterval&nbsp;=&nbsp;(&nbsp;Double(arc4random_uniform(30)&nbsp;)&nbsp;+&nbsp;20)/4&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;beginX:&nbsp;CGFloat&nbsp;=&nbsp;CGFloat(arc4random_uniform(UInt32(frame.width)))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;endX:&nbsp;CGFloat&nbsp;=&nbsp;CGFloat(arc4random_uniform(UInt32(beginX-5))&nbsp;+&nbsp;UInt32(beginX)+5)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;delay:&nbsp;TimeInterval&nbsp;=&nbsp;Double(arc4random_uniform(10))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;beginRotate:&nbsp;Double&nbsp;=&nbsp;Double((arc4random_uniform(50))&nbsp;+&nbsp;10)/10&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;endRotate:&nbsp;Double&nbsp;=&nbsp;Double((arc4random_uniform(50))&nbsp;+&nbsp;10)/10&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;randNum:&nbsp;Int&nbsp;=&nbsp;Int((arc4random_uniform(1))&nbsp;+&nbsp;100)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;scaleBegin:&nbsp;Double&nbsp;=&nbsp;Double(arc4random_uniform(6)&nbsp;+&nbsp;3)/10&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;scaleEnd:&nbsp;Double&nbsp;=&nbsp;Double((arc4random_uniform(8))&nbsp;+&nbsp;6)/10&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;sign:&nbsp;Int&nbsp;=&nbsp;1&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>&nbsp;randNum&nbsp;&lt;=&nbsp;50&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sign&nbsp;=&nbsp;-1&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//print(&quot;time:&nbsp;\\(time)&nbsp;-&nbsp;beginX:&nbsp;\\(beginX)&nbsp;-&nbsp;beginRotate:&nbsp;\\(beginRotate)&quot;)</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;transformAnima&nbsp;=&nbsp;CABasicAnimation(keyPath:&nbsp;<span class=\"string\">&quot;transform.rotation.z&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformAnima.fromValue&nbsp;=&nbsp;M_PI/beginRotate*Double(sign)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformAnima.toValue&nbsp;=&nbsp;M_PI/endRotate*Double(sign)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;positionYAnima&nbsp;=&nbsp;CABasicAnimation(keyPath:&nbsp;<span class=\"string\">&quot;position.y&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positionYAnima.fromValue&nbsp;=&nbsp;frame.origin.y&nbsp;-&nbsp;20&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positionYAnima.toValue&nbsp;=&nbsp;frame.origin.y&nbsp;+&nbsp;frame.height&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;positionXAnima&nbsp;=&nbsp;CABasicAnimation(keyPath:&nbsp;<span class=\"string\">&quot;position.x&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positionXAnima.fromValue&nbsp;=&nbsp;beginX&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positionXAnima.toValue&nbsp;=&nbsp;endX&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;transformScaleAnima&nbsp;=&nbsp;CABasicAnimation(keyPath:&nbsp;<span class=\"string\">&quot;transform.scale&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformScaleAnima.fromValue&nbsp;=&nbsp;scaleBegin&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformScaleAnima.toValue&nbsp;=&nbsp;scaleEnd&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;opacityAnima&nbsp;=&nbsp;CABasicAnimation(keyPath:&nbsp;<span class=\"string\">&quot;opacity&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opacityAnima.fromValue&nbsp;=&nbsp;1&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opacityAnima.toValue&nbsp;=&nbsp;1&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;groupAnima&nbsp;=&nbsp;CAAnimationGroup()&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupAnima.duration&nbsp;=&nbsp;time&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupAnima.beginTime&nbsp;=&nbsp;CACurrentMediaTime()&nbsp;+&nbsp;delay&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupAnima.repeatCount&nbsp;=&nbsp;HUGE&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupAnima.isRemovedOnCompletion&nbsp;=&nbsp;<span class=\"keyword\">false</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupAnima.fillMode&nbsp;=&nbsp;kCAFillModeForwards&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupAnima.animations&nbsp;=&nbsp;[transformAnima,&nbsp;positionXAnima,&nbsp;positionYAnima,&nbsp;opacityAnima,&nbsp;transformScaleAnima]&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;groupAnima.timingFunction&nbsp;=&nbsp;CAMediaTimingFunction(name:&nbsp;kCAMediaTimingFunctionEaseIn)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.layer.add(groupAnima,&nbsp;forKey:&nbsp;nil)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.alpha&nbsp;=&nbsp;0&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p>调用代码:</p>\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;雪花&nbsp;❄️</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"keyword\">do</span><span>&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;ss&nbsp;=&nbsp;AnimationSnow(frame:&nbsp;bg.frame)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;ss.alpha&nbsp;=&nbsp;0.5&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">try</span><span>&nbsp;bg.addSubview(ss)&nbsp;</span></span></li>\r\n	<li><span>}&nbsp;<span class=\"keyword\">catch</span><span>&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;print(error)&nbsp;</span></li>\r\n	<li><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p>&nbsp;</p>\r\n', '1', '', '', '', '1', '0', '2017-02-07 15:20:59', '2017-02-07 15:23:05'), ('11', '5', '0', '0', '贝塞尔曲线的使用心得', '', 'http://img.guandongyue.com/2017/0209/20170209025700420_list.png', 'UIBezierPath,贝塞尔曲线,贝塞尔,画线,画心型', '', '近期看到一些动画效果，着实不错，小试一下，正好用到了贝塞尔曲线。<br />\r\n在画心形的时候，着实花了点时间来理解其使用方法：<br />\r\n话不多说，看图<br />\r\n<img src=\"http://img.guandongyue.com/2017/0209/20170209025700420.png\" /><br />\r\n<br />\r\n贝塞尔曲线<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span>let&nbsp;path&nbsp;=&nbsp;UIBezierPath()&nbsp;</span></span></li>\r\n	<li><span>path.move(to:&nbsp;firstPoint!)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>path.addCurve(&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:&nbsp;CGPoint(x:&nbsp;bounds.width/2,&nbsp;y:&nbsp;bounds.height-2),&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint1:&nbsp;CGPoint(x:&nbsp;-firstPoint!.x/3,&nbsp;y:&nbsp;-firstPoint!.y*1.3),&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint2:&nbsp;CGPoint(x:&nbsp;-firstPoint!.x/3.2,&nbsp;y:&nbsp;bounds.height/1.5))&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p>以心形的凹点为起点，心形下面的尖为终点<br />\r\n然后添加两个控制点controlPoint1 和&nbsp;controlPoint2，也就是图中的A点与B点<br />\r\n<br />\r\nA点与B点均标出了两个红点，以A点为例<br />\r\n控制A点的坐标则会影响到心形左上圆角的夹角大小，具体的需要多尝试，就是个熟练度的问题了<br />\r\n<br />\r\n分享个心形的代码（注释部分只是画出了4个控制点的位置，方便理解可以打开注释）：</p>\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"keyword\">class</span><span>&nbsp;HeartView:&nbsp;UIView&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;path&nbsp;=&nbsp;UIBezierPath()&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;color:&nbsp;UIColor!&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;firstPoint:&nbsp;CGPoint?&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;init(frame:&nbsp;CGRect,&nbsp;color:&nbsp;UIColor)&nbsp;{&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">super</span><span>.init(frame:&nbsp;frame)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.color&nbsp;=&nbsp;color&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstPoint&nbsp;=&nbsp;CGPoint(x:&nbsp;bounds.width/2,&nbsp;y:&nbsp;bounds.height/4)&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor&nbsp;=&nbsp;UIColor.clear&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;init(frame:&nbsp;CGRect)&nbsp;{&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">super</span><span>.init(frame:&nbsp;frame)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstPoint&nbsp;=&nbsp;CGPoint(x:&nbsp;bounds.width/2,&nbsp;y:&nbsp;bounds.height/4)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor&nbsp;=&nbsp;UIColor.clear&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;required&nbsp;init?(coder&nbsp;aDecoder:&nbsp;NSCoder)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fatalError(<span class=\"string\">&quot;init(coder:)&nbsp;has&nbsp;not&nbsp;been&nbsp;implemented&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;draw(_&nbsp;rect:&nbsp;CGRect)&nbsp;{&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;bounds&nbsp;=&nbsp;self.bounds&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;一段曲线</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path.move(to:&nbsp;firstPoint!)&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path.addCurve(&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:&nbsp;CGPoint(x:&nbsp;bounds.width/2,&nbsp;y:&nbsp;bounds.height-2),&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint1:&nbsp;CGPoint(x:&nbsp;-firstPoint!.x/3,&nbsp;y:&nbsp;-firstPoint!.y*1.3),&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint2:&nbsp;CGPoint(x:&nbsp;-firstPoint!.x/3.2,&nbsp;y:&nbsp;bounds.height/1.5))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;赛贝尔曲线一段曲线的两个控制点&nbsp;左上&nbsp;左下</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;vc1&nbsp;=&nbsp;UIView(frame:&nbsp;CGRect(x:&nbsp;-firstPoint!.x/3,&nbsp;y:&nbsp;-firstPoint!.y*1.3,&nbsp;width:&nbsp;1,&nbsp;height:&nbsp;1))</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vc1.backgroundColor&nbsp;=&nbsp;UIColor.red</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addSubview(vc1)</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;vc2&nbsp;=&nbsp;UIView(frame:&nbsp;CGRect(x:&nbsp;-firstPoint!.x/3.2,&nbsp;y:&nbsp;bounds.height/1.5,&nbsp;width:&nbsp;1,&nbsp;height:&nbsp;1))</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vc2.backgroundColor&nbsp;=&nbsp;UIColor.red</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addSubview(vc2)</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;二段曲线</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path.addCurve(&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:&nbsp;firstPoint!,&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint1:&nbsp;CGPoint(x:&nbsp;bounds.width+firstPoint!.x/3.2,&nbsp;y:&nbsp;bounds.height/1.5),&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint2:&nbsp;CGPoint(x:&nbsp;firstPoint!.x*2.3,&nbsp;y:&nbsp;-firstPoint!.y*1.3))&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;赛贝尔曲线二段曲线的两个控制点&nbsp;右下&nbsp;右上</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;vc3&nbsp;=&nbsp;UIView(frame:&nbsp;CGRect(x:&nbsp;bounds.width+firstPoint!.x/3.2,&nbsp;y:&nbsp;bounds.height/1.5,&nbsp;width:&nbsp;1,&nbsp;height:&nbsp;1))</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vc3.backgroundColor&nbsp;=&nbsp;UIColor.green</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addSubview(vc3)</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;vc4&nbsp;=&nbsp;UIView(frame:&nbsp;CGRect(x:&nbsp;bounds.width+firstPoint!.x/3.2,&nbsp;y:&nbsp;-firstPoint!.y*1.3,&nbsp;width:&nbsp;1,&nbsp;height:&nbsp;1))</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vc4.backgroundColor&nbsp;=&nbsp;UIColor.green</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addSubview(vc4)</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">//&nbsp;填充颜色</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color!.setFill()&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path.fill()&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p>使用：</p>\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span>let&nbsp;heart&nbsp;=&nbsp;HeartView(frame:&nbsp;CGRect(x:&nbsp;120,&nbsp;y:&nbsp;120,&nbsp;width:&nbsp;70,&nbsp;height:&nbsp;70),&nbsp;color:&nbsp;UIColor.blue)&nbsp;</span></span></li>\r\n	<li><span>bg.addSubview(heart)&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p>&nbsp;</p>\r\n', '1', '', '', '', '1', '0', '2017-02-09 15:09:09', '2017-02-09 20:17:06'), ('12', '5', '0', '0', 'CABasicAnimation 属性与keyPath对应含义', '', '', 'CABasicAnimation,keypath,含义,属性含义,keypath含义', '', '<h4 0px=\"\" background-color:=\"\" color:=\"\" font-size:=\"\" hiragino=\"\" line-height:=\"\" margin:=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" text-rendering:=\"\" ui=\"\" wenquanyi=\"\">设定动画</h4>\r\n<p background-color:=\"\" font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">设定动画的属性和说明</p>\r\n<table font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">\r\n<thead>\r\n	<tr>\r\n	<th>\r\n		属性</th>\r\n	<th>\r\n		说明</th>\r\n	</tr>\r\n</thead>\r\n<tbody>\r\n	<tr>\r\n	<td>duration</td>\r\n	<td>动画的时长</td>\r\n	</tr>\r\n	<tr>\r\n	<td>repeatCount</td>\r\n	<td>重复的次数。不停重复设置为 HUGE_VALF</td>\r\n	</tr>\r\n	<tr>\r\n	<td>repeatDuration</td>\r\n	<td>设置动画的时间。在该时间内动画一直执行，不计次数。</td>\r\n	</tr>\r\n	<tr>\r\n	<td>beginTime</td>\r\n	<td>指定动画开始的时间。从开始延迟几秒的话，设置为【CACurrentMediaTime() + 秒数】 的方式</td>\r\n	</tr>\r\n	<tr>\r\n	<td>timingFunction</td>\r\n	<td>设置动画的速度变化</td>\r\n	</tr>\r\n	<tr>\r\n	<td>autoreverses</td>\r\n	<td>动画结束时是否执行逆动画</td>\r\n	</tr>\r\n	<tr>\r\n	<td>fromValue</td>\r\n	<td>所改变属性的起始值</td>\r\n	</tr>\r\n	<tr>\r\n	<td>toValue</td>\r\n	<td>所改变属性的结束时的值</td>\r\n	</tr>\r\n	<tr>\r\n	<td>byValue</td>\r\n	<td>所改变属性相同起始值的改变量</td>\r\n	</tr>\r\n</tbody>\r\n</table>\r\n举个栗子：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span>let&nbsp;animation&nbsp;=&nbsp;CABasicAnimation(keyPath:&nbsp;</span><span class=\"string\">&quot;transform.rotation.y&quot;</span><span>)&nbsp;</span></span></li>\r\n	<li><span>animation.toValue&nbsp;=&nbsp;-M_PI_2&nbsp;</span></li>\r\n	<li class=\"alt\"><span>animation.duration&nbsp;=&nbsp;2&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;注意repeatCount和repeatDuration可能会相互冲突，所以你只要对其中一个指定非零值</span><span>&nbsp;</span></span></li>\r\n	<li><span>animation.repeatDuration&nbsp;=&nbsp;Double.infinity&nbsp;</span></li>\r\n	<li class=\"alt\"><span>animation.autoreverses&nbsp;=&nbsp;<span class=\"keyword\">true</span><span>&nbsp;</span></span></li>\r\n	<li><span>yourLayer.add(animation,&nbsp;forKey:&nbsp;nil)&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p background-color:=\"\" font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" style=\"box-sizing: border-box; margin: 0px 0px 25px; word-break: break-word; color: rgb(47, 47, 47); font-family: -apple-system, \" ui=\"\" wenquanyi=\"\">&nbsp;</p>\r\n<h4 0px=\"\" background-color:=\"\" color:=\"\" font-size:=\"\" hiragino=\"\" line-height:=\"\" margin:=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" text-rendering:=\"\" ui=\"\" wenquanyi=\"\">防止动画结束后回到初始状态</h4>\r\n<p background-color:=\"\" font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">只需设置removedOnCompletion、fillMode两个属性就可以了。</p>\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span>animation.isRemovedOnCompletion&nbsp;=&nbsp;</span><span class=\"keyword\">false</span><span>&nbsp;</span></span></li>\r\n	<li><span>animation.fillMode&nbsp;=&nbsp;kCAFillModeForwards&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p background-color:=\"\" font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">解释：为什么动画结束后返回原状态？</p>\r\n<p background-color:=\"\" font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">首先我们需要搞明白一点的是，layer动画运行的过程是怎样的？其实在我们给一个视图添加layer动画时，真正移动并不是我们的视图本身，而是 presentation layer 的一个缓存。动画开始时 presentation layer开始移动，原始layer隐藏，动画结束时，presentation layer从屏幕上移除，原始layer显示。这就解释了为什么我们的视图在动画结束后又回到了原来的状态，因为它根本就没动过。</p>\r\n<p background-color:=\"\" font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">这个同样也可以解释为什么在动画移动过程中，我们为何不能对其进行任何操作。</p>\r\n<p background-color:=\"\" font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">所以在我们完成layer动画之后，最好将我们的layer属性设置为我们最终状态的属性，然后将presentation layer 移除掉。</p>\r\n<h4 0px=\"\" background-color:=\"\" color:=\"\" font-size:=\"\" hiragino=\"\" line-height:=\"\" margin:=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" text-rendering:=\"\" ui=\"\" wenquanyi=\"\">一些常用的animationWithKeyPath值的总结</h4>\r\n<table font-size:=\"\" hiragino=\"\" micro=\"\" microsoft=\"\" pingfang=\"\" sans=\"\" sf=\"\" ui=\"\" wenquanyi=\"\">\r\n<thead>\r\n	<tr>\r\n	<th>\r\n		值</th>\r\n	<th>\r\n		说明</th>\r\n	<th>\r\n		使用形式</th>\r\n	</tr>\r\n</thead>\r\n<tbody>\r\n	<tr>\r\n	<td>transform.scale</td>\r\n	<td>比例转化</td>\r\n	<td>(0.8)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>transform.scale.x</td>\r\n	<td>宽的比例</td>\r\n	<td>(0.8)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>transform.scale.y</td>\r\n	<td>高的比例</td>\r\n	<td>(0.8)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>transform.rotation.x</td>\r\n	<td>围绕x轴旋转</td>\r\n	<td>(M_PI)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>transform.rotation.y</td>\r\n	<td>围绕y轴旋转</td>\r\n	<td>(M_PI)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>transform.rotation.z</td>\r\n	<td>围绕z轴旋转</td>\r\n	<td>(M_PI)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>cornerRadius</td>\r\n	<td>圆角的设置</td>\r\n	<td>(50)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>backgroundColor</td>\r\n	<td>背景颜色的变化</td>\r\n	<td>UIColor.purple.CGColor</td>\r\n	</tr>\r\n	<tr>\r\n	<td>bounds</td>\r\n	<td>大小，中心不变</td>\r\n	<td>CGRect(x:0, y:0, width:200, height:200)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>position</td>\r\n	<td>位置(中心点的改变)</td>\r\n	<td>CGPoint(x:300, y:300)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>contents</td>\r\n	<td>内容，比如UIImageView的图片</td>\r\n	<td>imageAnima.toValue = UIImage( named:&quot;to&quot;).CGImage</td>\r\n	</tr>\r\n	<tr>\r\n	<td>opacity</td>\r\n	<td>透明度</td>\r\n	<td>(0.7)</td>\r\n	</tr>\r\n	<tr>\r\n	<td>contentsRect.size.width</td>\r\n	<td>横向拉伸缩放</td>\r\n	<td>(0.4)最好是0~1之间的</td>\r\n	</tr>\r\n</tbody>\r\n</table>\r\n<br />\r\n', '1', '', '', '', '1', '0', '2017-02-24 14:03:32', '2017-02-24 14:05:02');
INSERT INTO `t_articles` VALUES ('13', '5', '0', '0', '位置信息不准确 WGS84转GCJ-02算法', '', null, 'ios位置信息不准确,WGS84转GCJ-02,ios定位不准,ios定位', 'iOS获取位置信息不准确，在地图上看到的位置会有偏差。', '具体情况注释里有说明<br />\r\n上代码<br />\r\n实际上并没有用到这个东西，用了之后依旧存在偏差<br />\r\n既然是做附近的人，那就没关系，要偏差，都有偏差，并非地图的精准定位<br />\r\n<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"comment\">//</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;WGS84TOGCJ02.swift</span><span><span><span>&nbsp;</span></span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;Created&nbsp;by&nbsp;Tanton.Green&nbsp;on&nbsp;2017/3/10.</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;Copyright&nbsp;&copy;&nbsp;2017年&nbsp;Tanton.Green.&nbsp;All&nbsp;rights&nbsp;reserved.</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;说明：</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;WGS84&nbsp;地球坐标&nbsp;/&nbsp;GCJ-02&nbsp;国测局坐标&nbsp;/&nbsp;BD-09&nbsp;百度坐标</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;WGS84</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;国际标准，从专业GPS&nbsp;设备中取出的数据的坐标系</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;国际地图提供商使用的坐标系</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;GCJ-02</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;中国标准，从国行移动设备中定位获取的坐标数据使用这个坐标系</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;国家规定：&nbsp;国内出版的各种地图系统（包括电子形式），必须至少采用GCJ-02对地理位置进行首次加密。</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;BD-09</span><span>&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;&nbsp;百度标准，百度&nbsp;SDK，百度地图，Geocoding&nbsp;使用</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">//&nbsp;&nbsp;(本来就乱了，百度又在火星坐标上来个二次加密)</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;</span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;</span></li>\r\n	<li><span><span class=\"keyword\">import</span><span>&nbsp;Foundation&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"keyword\">import</span><span>&nbsp;MapKit&nbsp;</span></span></li>\r\n	<li><span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span>struct&nbsp;WGS84TOGCJ02&nbsp;{&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">static</span><span>&nbsp;let&nbsp;a&nbsp;=&nbsp;6378245.0&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">static</span><span>&nbsp;let&nbsp;ee&nbsp;=&nbsp;0.00669342162296594323&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">static</span><span>&nbsp;let&nbsp;pi&nbsp;=&nbsp;3.14159265358979324&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">static</span><span>&nbsp;func&nbsp;transformFromWGSToGCJ(wgsLoc:&nbsp;CLLocationCoordinate2D)&nbsp;-&gt;&nbsp;CLLocationCoordinate2D&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;adjustLoc&nbsp;=&nbsp;CLLocationCoordinate2D()&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>&nbsp;isLocationOutOfChina(location:&nbsp;wgsLoc)&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adjustLoc&nbsp;=&nbsp;wgsLoc&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class=\"keyword\">else</span><span>&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;adjustLat&nbsp;=&nbsp;transformLat(x:&nbsp;wgsLoc.longitude&nbsp;-&nbsp;105.0,&nbsp;y:&nbsp;wgsLoc.latitude&nbsp;-&nbsp;35.0)&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;adjustLon&nbsp;=&nbsp;transformLon(x:&nbsp;wgsLoc.longitude&nbsp;-&nbsp;105.0,&nbsp;y:&nbsp;wgsLoc.latitude&nbsp;-&nbsp;35.0)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;radLat&nbsp;=&nbsp;wgsLoc.latitude&nbsp;/&nbsp;180.0&nbsp;*&nbsp;pi&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;magic&nbsp;=&nbsp;sin(radLat)&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;magic&nbsp;=&nbsp;1&nbsp;-&nbsp;ee&nbsp;*&nbsp;magic&nbsp;*&nbsp;magic&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sqrtMagic&nbsp;=&nbsp;sqrt(magic);&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adjustLat&nbsp;=&nbsp;(adjustLat&nbsp;*&nbsp;180.0)&nbsp;/&nbsp;((a&nbsp;*&nbsp;(1&nbsp;-&nbsp;ee))&nbsp;/&nbsp;(magic&nbsp;*&nbsp;sqrtMagic)&nbsp;*&nbsp;pi);&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adjustLon&nbsp;=&nbsp;(adjustLon&nbsp;*&nbsp;180.0)&nbsp;/&nbsp;(a&nbsp;/&nbsp;sqrtMagic&nbsp;*&nbsp;cos(radLat)&nbsp;*&nbsp;pi);&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adjustLoc.latitude&nbsp;=&nbsp;wgsLoc.latitude&nbsp;+&nbsp;adjustLat;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adjustLoc.longitude&nbsp;=&nbsp;wgsLoc.longitude&nbsp;+&nbsp;adjustLon&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;adjustLoc&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">///&nbsp;判断是否在中国境内</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">static</span><span>&nbsp;func&nbsp;isLocationOutOfChina(location:&nbsp;CLLocationCoordinate2D)&nbsp;-&gt;&nbsp;Bool&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;(location.longitude&nbsp;&lt;&nbsp;72.004&nbsp;||&nbsp;location.longitude&nbsp;&gt;&nbsp;137.8347&nbsp;||&nbsp;location.latitude&nbsp;&lt;&nbsp;0.8293&nbsp;||&nbsp;location.latitude&nbsp;&gt;&nbsp;55.8271)&nbsp;?&nbsp;</span><span class=\"keyword\">true</span><span>&nbsp;:&nbsp;</span><span class=\"keyword\">false</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">///&nbsp;latitude&nbsp;纬度</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">static</span><span>&nbsp;func&nbsp;transformLat(x:&nbsp;Double,&nbsp;y:&nbsp;Double)&nbsp;-&gt;&nbsp;Double&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;lat&nbsp;=&nbsp;-100.0&nbsp;+&nbsp;2.0&nbsp;*&nbsp;x&nbsp;+&nbsp;3.0&nbsp;*&nbsp;y&nbsp;+&nbsp;0.2&nbsp;*&nbsp;y&nbsp;*&nbsp;y&nbsp;+&nbsp;0.1&nbsp;*&nbsp;x&nbsp;*&nbsp;y&nbsp;+&nbsp;0.2&nbsp;*&nbsp;sqrt(abs(x))&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lat&nbsp;+=&nbsp;(20.0&nbsp;*&nbsp;sin(6.0&nbsp;*&nbsp;x&nbsp;*&nbsp;pi)&nbsp;+&nbsp;20.0&nbsp;*&nbsp;sin(2.0&nbsp;*&nbsp;x&nbsp;*&nbsp;pi))&nbsp;*&nbsp;2.0&nbsp;/&nbsp;3.0&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lat&nbsp;+=&nbsp;(20.0&nbsp;*&nbsp;sin(y&nbsp;*&nbsp;pi)&nbsp;+&nbsp;40.0&nbsp;*&nbsp;sin(y&nbsp;/&nbsp;3.0&nbsp;*&nbsp;pi))&nbsp;*&nbsp;2.0&nbsp;/&nbsp;3.0&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lat&nbsp;+=&nbsp;(160.0&nbsp;*&nbsp;sin(y&nbsp;/&nbsp;12.0&nbsp;*&nbsp;pi)&nbsp;+&nbsp;320&nbsp;*&nbsp;sin(y&nbsp;*&nbsp;pi&nbsp;/&nbsp;30.0))&nbsp;*&nbsp;2.0&nbsp;/&nbsp;3.0&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;lat&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"comment\">///&nbsp;longitude&nbsp;经度</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">static</span><span>&nbsp;func&nbsp;transformLon(x:&nbsp;Double,&nbsp;y:&nbsp;Double)&nbsp;-&gt;&nbsp;Double&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">var</span><span>&nbsp;lon&nbsp;=&nbsp;300.0&nbsp;+&nbsp;x&nbsp;+&nbsp;2.0&nbsp;*&nbsp;y&nbsp;+&nbsp;0.1&nbsp;*&nbsp;x&nbsp;*&nbsp;x&nbsp;+&nbsp;0.1&nbsp;*&nbsp;x&nbsp;*&nbsp;y&nbsp;+&nbsp;0.1&nbsp;*&nbsp;sqrt(abs(x))&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lon&nbsp;+=&nbsp;(20.0&nbsp;*&nbsp;sin(6.0&nbsp;*&nbsp;x&nbsp;*&nbsp;pi)&nbsp;+&nbsp;20.0&nbsp;*&nbsp;sin(2.0&nbsp;*&nbsp;x&nbsp;*&nbsp;pi))&nbsp;*&nbsp;2.0&nbsp;/&nbsp;3.0&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lon&nbsp;+=&nbsp;(20.0&nbsp;*&nbsp;sin(x&nbsp;*&nbsp;pi)&nbsp;+&nbsp;40.0&nbsp;*&nbsp;sin(x&nbsp;/&nbsp;3.0&nbsp;*&nbsp;pi))&nbsp;*&nbsp;2.0&nbsp;/&nbsp;3.0&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lon&nbsp;+=&nbsp;(150.0&nbsp;*&nbsp;sin(x&nbsp;/&nbsp;12.0&nbsp;*&nbsp;pi)&nbsp;+&nbsp;300.0&nbsp;*&nbsp;sin(x&nbsp;/&nbsp;30.0&nbsp;*&nbsp;pi))&nbsp;*&nbsp;2.0&nbsp;/&nbsp;3.0&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;lon&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n<p>&nbsp;</p>\r\n', '1', '', '', '', '1', '0', '2017-03-10 20:20:35', null), ('14', '2', '0', '0', 'phpcms 分页功能 https 时失灵', '', null, 'phpcms分页,https分页', 'phpcms 的分页功能，当域名是https时翻页会出现BUG，导致无法翻页，主要在于global.func.php中的pageurl函数替换处只能替换\'http://\'字符串，做个小改动即可修复', 'phpcms 的分页功能，当域名是https时翻页会出现BUG，导致无法翻页，主要在于global.func.php中的pageurl函数替换处只能替换&#39;http://&#39;字符串，做个小改动即可修复<br />\r\n<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"comment\">/**</span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">&nbsp;*&nbsp;返回分页路径</span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">&nbsp;*</span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">&nbsp;*&nbsp;@param&nbsp;$urlrule&nbsp;分页规则</span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">&nbsp;*&nbsp;@param&nbsp;$page&nbsp;当前页</span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">&nbsp;*&nbsp;@param&nbsp;$array&nbsp;需要传递的数组，用于增加额外的方法</span>&nbsp;</span></li>\r\n	<li class=\"alt\"><span><span class=\"comment\">&nbsp;*&nbsp;@return&nbsp;完整的URL路径</span>&nbsp;</span></li>\r\n	<li><span><span class=\"comment\">&nbsp;*/</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"keyword\">function</span><span>&nbsp;pageurl(</span><span class=\"vars\">$urlrule</span><span>,&nbsp;</span><span class=\"vars\">$page</span><span>,&nbsp;</span><span class=\"vars\">$array</span><span>&nbsp;=&nbsp;</span><span class=\"keyword\">array</span><span>())&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>(</span><span class=\"func\">strpos</span><span>(</span><span class=\"vars\">$urlrule</span><span>,&nbsp;</span><span class=\"string\">&#39;~&#39;</span><span>))&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$urlrules</span><span>&nbsp;=&nbsp;</span><span class=\"func\">explode</span><span>(</span><span class=\"string\">&#39;~&#39;</span><span>,&nbsp;</span><span class=\"vars\">$urlrule</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$urlrule</span><span>&nbsp;=&nbsp;</span><span class=\"vars\">$page</span><span>&nbsp;&lt;&nbsp;2&nbsp;?&nbsp;</span><span class=\"vars\">$urlrules</span><span>[0]&nbsp;:&nbsp;</span><span class=\"vars\">$urlrules</span><span>[1];&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$findme</span><span>&nbsp;=&nbsp;</span><span class=\"keyword\">array</span><span>(</span><span class=\"string\">&#39;{$page}&#39;</span><span>);&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$replaceme</span><span>&nbsp;=&nbsp;</span><span class=\"keyword\">array</span><span>(</span><span class=\"vars\">$page</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>&nbsp;(</span><span class=\"func\">is_array</span><span>(</span><span class=\"vars\">$array</span><span>))&nbsp;</span><span class=\"keyword\">foreach</span><span>&nbsp;(</span><span class=\"vars\">$array</span><span>&nbsp;</span><span class=\"keyword\">as</span><span>&nbsp;</span><span class=\"vars\">$k</span><span>=&gt;</span><span class=\"vars\">$v</span><span>)&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$findme</span><span>[]&nbsp;=&nbsp;</span><span class=\"string\">&#39;{$&#39;</span><span>.</span><span class=\"vars\">$k</span><span>.</span><span class=\"string\">&#39;}&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$replaceme</span><span>[]&nbsp;=&nbsp;</span><span class=\"vars\">$v</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$url</span><span>&nbsp;=&nbsp;</span><span class=\"func\">str_replace</span><span>(</span><span class=\"vars\">$findme</span><span>,&nbsp;</span><span class=\"vars\">$replaceme</span><span>,&nbsp;</span><span class=\"vars\">$urlrule</span><span>);&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$url</span><span>&nbsp;=&nbsp;</span><span class=\"func\">str_replace</span><span>(</span><span class=\"keyword\">array</span><span>(</span><span class=\"string\">&#39;http://&#39;</span><span>,</span><span class=\"string\">&#39;//&#39;</span><span>,</span><span class=\"string\">&#39;~&#39;</span><span>),&nbsp;</span><span class=\"keyword\">array</span><span>(</span><span class=\"string\">&#39;~&#39;</span><span>,</span><span class=\"string\">&#39;/&#39;</span><span>,</span><span class=\"string\">&#39;http://&#39;</span><span>),&nbsp;</span><span class=\"vars\">$url</span><span>);&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;</span><span class=\"vars\">$url</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n如上代码，str_replace 只能替换 http:// 的完全匹配，无法匹配 https://。<br />\r\n系统本身是可以识别80或者443，并且有设置常量<br />\r\n所以21行做个修改即可修复这个BUG<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"vars\">$url</span><span>&nbsp;=&nbsp;</span><span class=\"func\">str_replace</span><span>(</span><span class=\"keyword\">array</span><span>(</span><span class=\"string\">&#39;http://&#39;</span><span>,</span><span class=\"string\">&#39;//&#39;</span><span>,</span><span class=\"string\">&#39;~&#39;</span><span>),&nbsp;</span><span class=\"keyword\">array</span><span>(</span><span class=\"string\">&#39;~&#39;</span><span>,</span><span class=\"string\">&#39;/&#39;</span><span>,</span><span class=\"string\">&#39;http://&#39;</span><span>),&nbsp;</span><span class=\"vars\">$url</span><span>);&nbsp;</span></span></li>\r\n	<li><span><span class=\"comment\">//&nbsp;改为</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span><span class=\"vars\">$url</span><span>&nbsp;=&nbsp;</span><span class=\"func\">str_replace</span><span>(</span><span class=\"keyword\">array</span><span>(SITE_PROTOCOL,</span><span class=\"string\">&#39;//&#39;</span><span>,</span><span class=\"string\">&#39;~&#39;</span><span>),&nbsp;</span><span class=\"keyword\">array</span><span>(</span><span class=\"string\">&#39;~&#39;</span><span>,</span><span class=\"string\">&#39;/&#39;</span><span>,SITE_PROTOCOL),&nbsp;</span><span class=\"vars\">$url</span><span>);&nbsp;</span></span></li>\r\n	</ol>\r\n</blockquote>\r\n<br />\r\n<br />\r\n<br />\r\n<br />\r\n<br />\r\n<br />\r\n', '1', '暮隼', '', '', '1', '0', '2017-07-31 19:47:14', null), ('15', '2', '0', '0', 'phpcms 日历控件 支持日期范围限制', 'http://img.guandongyue.com/2017/0731/20170731080257421.png', 'http://img.guandongyue.com/2017/0731/20170731080257421.png', 'phpcms日历,phpcms日期范围', '', '修改之后的代码：<br />\r\n<blockquote>\r\n	<ol class=\"dp-c\">\r\n	<li class=\"alt\"><span><span class=\"keyword\">public</span><span>&nbsp;</span><span class=\"keyword\">static</span><span>&nbsp;</span><span class=\"keyword\">function</span><span>&nbsp;</span><span class=\"func\">date</span><span>(</span><span class=\"vars\">$name</span><span>,&nbsp;</span><span class=\"vars\">$value</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;&#39;</span><span>,&nbsp;</span><span class=\"vars\">$isdatetime</span><span>&nbsp;=&nbsp;0,&nbsp;</span><span class=\"vars\">$loadjs</span><span>&nbsp;=&nbsp;0,&nbsp;</span><span class=\"vars\">$showweek</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;true&#39;</span><span>,&nbsp;</span><span class=\"vars\">$timesystem</span><span>&nbsp;=&nbsp;1,&nbsp;</span><span class=\"vars\">$min</span><span>=</span><span class=\"string\">&#39;&#39;</span><span>,&nbsp;</span><span class=\"vars\">$max</span><span>=</span><span class=\"string\">&#39;&#39;</span><span>)&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>(</span><span class=\"vars\">$value</span><span>&nbsp;==&nbsp;</span><span class=\"string\">&#39;0000-00-00&nbsp;00:00:00&#39;</span><span>)&nbsp;</span><span class=\"vars\">$value</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$id</span><span>&nbsp;=&nbsp;preg_match(</span><span class=\"string\">&quot;/\\[(.*)\\]/&quot;</span><span>,&nbsp;</span><span class=\"vars\">$name</span><span>,&nbsp;</span><span class=\"vars\">$m</span><span>)&nbsp;?&nbsp;</span><span class=\"vars\">$m</span><span>[1]&nbsp;:&nbsp;</span><span class=\"vars\">$name</span><span>;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>(</span><span class=\"vars\">$isdatetime</span><span>)&nbsp;{&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$size</span><span>&nbsp;=&nbsp;21;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$format</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;%Y-%m-%d&nbsp;%H:%M:%S&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>(</span><span class=\"vars\">$timesystem</span><span>){&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$showsTime</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;true&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class=\"keyword\">else</span><span>&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$showsTime</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;12&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class=\"keyword\">else</span><span>&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$size</span><span>&nbsp;=&nbsp;10;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$format</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;%Y-%m-%d&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$showsTime</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;false&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$str</span><span>&nbsp;=&nbsp;</span><span class=\"string\">&#39;&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">if</span><span>(</span><span class=\"vars\">$loadjs</span><span>&nbsp;||&nbsp;!defined(</span><span class=\"string\">&#39;CALENDAR_INIT&#39;</span><span>))&nbsp;{&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define(<span class=\"string\">&#39;CALENDAR_INIT&#39;</span><span>,&nbsp;1);&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$str</span><span>&nbsp;.=&nbsp;</span><span class=\"string\">&#39;&lt;link&nbsp;rel=&quot;stylesheet&quot;&nbsp;type=&quot;text/css&quot;&nbsp;href=&quot;&#39;</span><span>.JS_PATH.&#39;calendar/jscal2.css&quot;/&gt;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;link&nbsp;rel=<span class=\"string\">&quot;stylesheet&quot;</span><span>&nbsp;type=</span><span class=\"string\">&quot;text/css&quot;</span><span>&nbsp;href=</span><span class=\"string\">&quot;&#39;.JS_PATH.&#39;calendar/border-radius.css&quot;</span><span>/&gt;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;link&nbsp;rel=<span class=\"string\">&quot;stylesheet&quot;</span><span>&nbsp;type=</span><span class=\"string\">&quot;text/css&quot;</span><span>&nbsp;href=</span><span class=\"string\">&quot;&#39;.JS_PATH.&#39;calendar/win2k.css&quot;</span><span>/&gt;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=<span class=\"string\">&quot;text/javascript&quot;</span><span>&nbsp;src=</span><span class=\"string\">&quot;&#39;.JS_PATH.&#39;calendar/calendar.js&quot;</span><span>&gt;&lt;/script&gt;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type=<span class=\"string\">&quot;text/javascript&quot;</span><span>&nbsp;src=</span><span class=\"string\">&quot;&#39;.JS_PATH.&#39;calendar/lang/en.js&quot;</span><span>&gt;&lt;/script&gt;&#39;;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$str</span><span>&nbsp;.=&nbsp;</span><span class=\"string\">&#39;&lt;input&nbsp;type=&quot;text&quot;&nbsp;name=&quot;&#39;</span><span>.</span><span class=\"vars\">$name</span><span>.</span><span class=\"string\">&#39;&quot;&nbsp;id=&quot;&#39;</span><span>.</span><span class=\"vars\">$id</span><span>.</span><span class=\"string\">&#39;&quot;&nbsp;value=&quot;&#39;</span><span>.</span><span class=\"vars\">$value</span><span>.</span><span class=\"string\">&#39;&quot;&nbsp;size=&quot;&#39;</span><span>.</span><span class=\"vars\">$size</span><span>.</span><span class=\"string\">&#39;&quot;&nbsp;class=&quot;date&quot;&nbsp;readonly&gt;&amp;nbsp;&#39;</span><span>;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$minStr</span><span>&nbsp;=&nbsp;</span><span class=\"vars\">$min</span><span>&nbsp;==&nbsp;</span><span class=\"string\">&#39;&#39;</span><span>&nbsp;?&nbsp;</span><span class=\"string\">&#39;&#39;</span><span>&nbsp;:&nbsp;</span><span class=\"string\">&quot;min:&nbsp;$min,&quot;</span><span>;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$maxStr</span><span>&nbsp;=&nbsp;</span><span class=\"vars\">$max</span><span>&nbsp;==&nbsp;</span><span class=\"string\">&#39;&#39;</span><span>&nbsp;?&nbsp;</span><span class=\"string\">&#39;&#39;</span><span>&nbsp;:&nbsp;</span><span class=\"string\">&quot;max:&nbsp;$max,&quot;</span><span>;&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"vars\">$str</span><span>&nbsp;.=&nbsp;&#39;&lt;script&nbsp;type=</span><span class=\"string\">&quot;text/javascript&quot;</span><span>&gt;&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calendar.setup({&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weekNumbers:&nbsp;<span class=\"string\">&#39;.$showweek.&#39;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputField&nbsp;:&nbsp;<span class=\"string\">&quot;&#39;.$id.&#39;&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trigger&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<span class=\"string\">&quot;&#39;.$id.&#39;&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dateFormat:&nbsp;<span class=\"string\">&quot;&#39;.$format.&#39;&quot;</span><span>,&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showTime:&nbsp;<span class=\"string\">&#39;.$showsTime.&#39;</span><span>,&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minuteStep:&nbsp;1,&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&#39;.$minStr.&#39;</span><span>&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"string\">&#39;.$maxStr.&#39;</span><span>&nbsp;</span></span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onSelect&nbsp;&nbsp;&nbsp;:&nbsp;<span class=\"keyword\">function</span><span>()&nbsp;{this.hide();}&nbsp;</span></span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;</span></li>\r\n	<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/script&gt;&#39;;&nbsp;</span></li>\r\n	<li class=\"alt\"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"keyword\">return</span><span>&nbsp;</span><span class=\"vars\">$str</span><span>;&nbsp;</span></span></li>\r\n	<li><span>}&nbsp;</span></li>\r\n	</ol>\r\n</blockquote>\r\n说明：\r\n<div>form.class.php里这个函数，只是简单的改了两个地方</div>\r\n<div>1、函数入口，增加 $min $max 参数；</div>\r\n<div>2、根据$min $max参数判断是否给Calendar增加日期限制的配置；</div>\r\n<div>&nbsp;</div>\r\n<div>送给常用phpcms但又不太懂技术的朋友们</div>\r\n<br />\r\n<br />\r\n', '1', '', '', '', '1', '0', '2017-07-31 20:09:41', '2017-08-02 10:35:39');
COMMIT;

-- ----------------------------
--  Table structure for `t_migrations`
-- ----------------------------
DROP TABLE IF EXISTS `t_migrations`;
CREATE TABLE `t_migrations` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `migration` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `batch` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
--  Records of `t_migrations`
-- ----------------------------
BEGIN;
INSERT INTO `t_migrations` VALUES ('1', '2014_10_12_000000_create_users_table', '1'), ('2', '2014_10_12_100000_create_password_resets_table', '1');
COMMIT;

-- ----------------------------
--  Table structure for `t_password_resets`
-- ----------------------------
DROP TABLE IF EXISTS `t_password_resets`;
CREATE TABLE `t_password_resets` (
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `token` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  KEY `password_resets_email_index` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
--  Table structure for `t_users`
-- ----------------------------
DROP TABLE IF EXISTS `t_users`;
CREATE TABLE `t_users` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `remember_token` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `users_email_unique` (`email`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;